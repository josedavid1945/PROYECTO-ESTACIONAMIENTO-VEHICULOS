<div class="card bg-white border-2 border-gray-200 shadow-xl">
  <div class="card-body">
    <h2 class="card-title text-2xl text-gray-800 mb-4">
      Espacios de la Sección {{ letraSeccion() }}
    </h2>

    @if (espacios() && espacios().length > 0) {
      <div class="overflow-x-auto">
        <table class="table w-full">
          <thead class="bg-slate-700">
            <tr>
              <th class="text-white font-bold">Número</th>
              <th class="text-white font-bold">Estado</th>
              <th class="text-white font-bold text-center">Disponibilidad</th>
              <th class="text-white font-bold text-center">Acciones</th>
            </tr>
          </thead>
          <tbody class="bg-white">
            @for (espacio of espacios(); track espacio.id) {
              <tr class="border-b border-gray-200 hover:bg-slate-50 transition-colors bg-white">
                <td class="font-bold text-slate-800">{{ espacio.numero }}</td>
                <td>
                  @if (espacio.estado) {
                    <span class="badge bg-blue-100 text-blue-700 border-blue-300 gap-2 font-semibold">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
                      </svg>
                      Disponible
                    </span>
                  } @else {
                    <span class="badge bg-slate-200 text-slate-700 border-slate-400 gap-2 font-semibold">
                      <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                        <path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                      </svg>
                      Ocupado
                    </span>
                  }
                </td>
                <td class="text-center">
                  <input 
                    type="checkbox" 
                    class="toggle toggle-primary"
                    [checked]="espacio.estado"
                    (change)="toggleEstado.emit(espacio)" />
                </td>
                <td class="text-center">
                  <button 
                    class="btn bg-slate-600 hover:bg-slate-700 btn-sm text-white"
                    (click)="deleteEspacio.emit(espacio.id)">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24">
                      <path fill="currentColor" d="M7 21q-.825 0-1.412-.587T5 19V6H4V4h5V3h6v1h5v2h-1v13q0 .825-.587 1.413T17 21zM17 6H7v13h10zM9 17h2V8H9zm4 0h2V8h-2zM7 6v13z"/>
                    </svg>
                  </button>
                </td>
              </tr>
            }
          </tbody>
        </table>
      </div>
    } @else {
      <div class="text-center py-12">
        <svg xmlns="http://www.w3.org/2000/svg" width="60" height="60" viewBox="0 0 24 24" class="mx-auto mb-4 text-gray-400">
          <path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14z"/>
        </svg>
        <p class="text-gray-500 text-lg">No hay espacios en esta sección</p>
        <button 
          class="btn bg-blue-600 hover:bg-blue-700 text-white mt-4"
          (click)="createEspacios.emit()">
          Crear Espacios
        </button>
      </div>
    }
  </div>
</div>
